<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<title>Soal 2 — Operasi Bergantian</title>

<style>
  body { font-family: Arial, sans-serif; max-width: 760px; margin: 30px auto; padding: 0 16px; color:#222; }
  h1 { font-size: 20px; margin-bottom: 6px; }
  textarea { width:100%; height:80px; padding:8px; font-size:16px; box-sizing:border-box; }
  input[type="text"]{ width:100%; padding:8px; font-size:16px; box-sizing:border-box; }
  button { padding:10px 14px; font-size:16px; margin-top:8px; cursor:pointer; }
  #result { margin-top:16px; font-weight:700; font-size:18px; }
  #steps { margin-top:10px; white-space:pre-wrap; font-family: monospace; background:#f7f7f7; padding:10px; border-radius:6px; }
  .examples button { margin-right:8px; margin-top:8px; }
  img.problem { max-width:100%; display:block; margin:12px 0; border:1px solid #ddd; padding:6px; background:#fff; }
  .note { color:#555; margin-top:8px; font-size:14px; }
</style>
</head>
<body>

<h1>Soal 2 — Jumlah & Kurang Bergantian</h1>

<label for="inputSeq">Masukkan deretan angka / ekspresi (contoh: <code>7 + 5 - 2 + 9 - 4 + 5 - 8</code>):</label>
<textarea id="inputSeq" placeholder></textarea>



<button onclick="compute()">Hitung</button>
<button onclick="clearAll()">Kosongkan</button>

<div id="result"></div>
<div id="steps"></div>

<script>
/**
 * Mengambil semua bilangan bulat dari string input.
 * Menerima format dengan operator ataupun hanya angka terpisah spasi.
 * Contoh hasil: "7 + 5 - 2" -> [7,5,2]
 */
function extractNumbers(input) {
  // Cari semua integer (mendukung minus jika ada)
  const matches = input.match(/-?\d+/g);
  if (!matches) return [];
  return matches.map(Number);
}

/**
 * Lakukan operasi bergantian: start = numbers[0], then + numbers[1], - numbers[2], + numbers[3] ...
 * Juga kembalikan langkah-langkah untuk ditampilkan.
 */
function alternatingOperation(numbers) {
  if (!numbers.length) {
    return { result: 0, steps: "Tidak ada angka ditemukan." };
  }

  let result = numbers[0];
  let add = true; // next operation is addition
  const stepsArr = [];
  stepsArr.push(String(numbers[0]));

  for (let i = 1; i < numbers.length; i++) {
    const n = numbers[i];
    if (add) {
      result += n;
      stepsArr.push("+ " + n);
    } else {
      result -= n;
      stepsArr.push("- " + n);
    }
    add = !add;
  }

  // build readable steps string
  const stepsStr = stepsArr.join(" ");
  return { result, steps: stepsStr };
}

function compute() {
  const raw = document.getElementById("inputSeq").value.trim();
  const numbers = extractNumbers(raw);

  if (numbers.length === 0) {
    document.getElementById("result").innerText = "Hasil: (tidak ada angka)";
    document.getElementById("steps").innerText = "Pastikan input mengandung angka. Contoh: 7 + 5 - 2 + 9";
    return;
  }

  const { result, steps } = alternatingOperation(numbers);
  document.getElementById("result").innerText = "Hasil: " + result;
  document.getElementById("steps").innerText = "Langkah (diinterpretasikan sebagai operasi bergantian):\n" + steps;
}

function useExample(txt) {
  document.getElementById("inputSeq").value = txt;
  compute();
}

function clearAll() {
  document.getElementById("inputSeq").value = "";
  document.getElementById("result").innerText = "";
  document.getElementById("steps").innerText = "";
}
</script>

<!-- <p class="note">Catatan: program ini <strong>mengabaikan</strong> apakah input menggunakan tanda + atau - — ia hanya mengekstrak angka dan menerapkan pola operasi bergantian: pertama (awal), kedua +, ketiga -, keempat +, dst. Jika kamu ingin agar operator pada input dihormati (mis. honor '-' sebagai pengurang walau posisi genap/ganjil), beri tahu saya agar saya sesuaikan.</p> -->

</body>
</html>
